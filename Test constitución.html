<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Test Constitución Española - iPhone</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    background: #f7f9fc;
    margin: 0;
    padding: 20px;
    color: #222;
  }
  h1 {
    text-align: center;
    color: #004080;
    font-size: 1.4rem;
  }
  #question {
    background: #fff;
    border-radius: 8px;
    padding: 15px;
    margin: 20px auto;
    max-width: 600px;
    font-size: 1.1rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  #options {
    max-width: 600px;
    margin: 10px auto;
  }
  button.option {
    width: 100%;
    margin: 8px 0;
    padding: 12px;
    font-size: 1rem;
    border-radius: 7px;
    border: 2px solid #0077cc;
    background: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button.option:hover {
    background: #cce4ff;
  }
  #feedback {
    max-width: 600px;
    margin: 15px auto;
    font-weight: 600;
    font-size: 1.1rem;
    text-align: center;
  }
  #score {
    max-width: 600px;
    margin: 25px auto;
    font-weight: 600;
    text-align: center;
    color: #555;
  }
</style>
</head>
<body>

<h1>¿A qué artículo pertenece esta descripción?</h1>
<div id="question">Cargando pregunta...</div>
<div id="options"></div>
<div id="feedback"></div>
<div id="score">Puntuación: 0</div>

<script>
(() => {
  const questions = [
    { number: 1, text: "España: Estado social, democrático y de Derecho; valores: libertad, justicia, igualdad y pluralismo político." },
    { number: 2, text: "Unidad e indivisibilidad de la nación española; autonomía de nacionalidades y regiones." },
    { number: 3, text: "Lengua oficial: castellano y lenguas cooficiales en sus comunidades." },
    { number: 4, text: "Bandera oficial y uso de banderas autonómicas junto a la de España." },
    { number: 5, text: "Capital del Estado: Madrid." },
    { number: 6, text: "Partidos políticos: papel clave en la participación democrática." },
    { number: 7, text: "Sindicatos y asociaciones empresariales: defensa de intereses sociales y económicos." },
    { number: 8, text: "Fuerzas Armadas: garantía de soberanía e independencia." },
    { number: 9, text: "Ciudadanos y poderes públicos sujetos a la Constitución y principio de legalidad." },
    { number: 10, text: "Dignidad humana y derechos inviolables: fundamento del orden." },
    { number: 11, text: "Nacionalidad española: regulada por ley." },
    { number: 12, text: "Mayoría de edad: 18 años." },
    { number: 13, text: "Derechos de extranjeros en España y condiciones del sufragio." },
    { number: 14, text: "Igualdad ante la ley, sin discriminación." },
    { number: 15, text: "Derecho a la vida e integridad física y moral." },
    { number: 16, text: "Libertad ideológica, religiosa y de culto." },
    { number: 17, text: "Libertad y seguridad personal (habeas corpus)." },
    { number: 18, text: "Derecho al honor, intimidad y propia imagen; inviolabilidad domicilio y secreto comunicaciones." },
    { number: 19, text: "Libertad de residencia y circulación." },
    { number: 20, text: "Libertad de expresión e información." },
    { number: 21, text: "Derecho de reunión pacífica." },
    { number: 22, text: "Libertad de asociación." },
    { number: 23, text: "Derecho a la participación política y acceso a cargos públicos." },
    { number: 24, text: "Tutela judicial efectiva; derecho a la defensa y juez imparcial." },
    { number: 25, text: "Principio de legalidad penal y sancionadora." },
    { number: 26, text: "Prohibición de Tribunales de Honor." },
    { number: 27, text: "Derecho a la educación y libertad de enseñanza." },
    { number: 28, text: "Derecho de sindicación y a la huelga." },
    { number: 29, text: "Derecho de petición individual y colectiva." },
    { number: 30, text: "Defensa de España y servicio militar." },
    { number: 31, text: "Sistema tributario justo; todos contribuyen según capacidad." },
    { number: 32, text: "Derecho al matrimonio con plena igualdad jurídica." },
    { number: 33, text: "Derecho a la propiedad privada y herencia." },
    { number: 34, text: "Derecho de fundación." },
    { number: 35, text: "Derecho al trabajo y a la libre elección de profesión u oficio." },
    { number: 36, text: "Colegios profesionales: organización y ejercicio." },
    { number: 37, text: "Derecho a la negociación colectiva laboral." },
    { number: 38, text: "Libertad de empresa en el marco de la economía de mercado." },
    { number: 39, text: "Protección a la familia y la infancia." },
    { number: 40, text: "Promoción del empleo y formación profesional." },
    { number: 41, text: "Seguridad Social para todos." },
    { number: 42, text: "Protección a emigrantes españoles." },
    { number: 43, text: "Derecho a la protección de la salud." },
    { number: 44, text: "Acceso a la cultura, ciencia e investigación." },
    { number: 45, text: "Protección del medio ambiente." },
    { number: 46, text: "Patrimonio histórico, cultural y artístico protegido." },
    { number: 47, text: "Derecho a vivienda digna." },
    { number: 48, text: "Promoción de juventud para participación." },
    { number: 49, text: "Atención a las personas con discapacidad." },
    { number: 50, text: "Pensiones suficientes para mayores." },
    { number: 51, text: "Protección de consumidores y usuarios." },
    { number: 52, text: "Cámaras agrarias y otros órganos consultivos." },
    { number: 53, text: "Garantía de derechos y deberes; recursos de inconstitucionalidad y amparo." },
    { number: 54, text: "Defensor del Pueblo: protección de derechos constitucionales." },
    { number: 55, text: "Supuestos y condiciones de suspensión de derechos y libertades en estado de excepción, sitio y terrorismo." }
  ];

  let score = 0;
  let currentQuestion = null;

  const questionDiv = document.getElementById('question');
  const optionsDiv = document.getElementById('options');
  const feedbackDiv = document.getElementById('feedback');
  const scoreDiv = document.getElementById('score');

  function shuffleArray(arr) {
    return arr.sort(() => Math.random() - 0.5);
  }

  function generateOptions(correctNumber) {
    const optionsSet = new Set([correctNumber]);
    while (optionsSet.size < 3) {
      const rand = Math.floor(Math.random() * 55) + 1;
      if (!optionsSet.has(rand)) {
        optionsSet.add(rand);
      }
    }
    return shuffleArray(Array.from(optionsSet));
  }

  function loadQuestion() {
    const randomIndex = Math.floor(Math.random() * questions.length);
    currentQuestion = questions[randomIndex];

    questionDiv.textContent = currentQuestion.text;
    optionsDiv.innerHTML = '';

    const options = generateOptions(currentQuestion.number);

    options.forEach(optionNum => {
      const btn = document.createElement('button');
      btn.className = 'option';
      btn.textContent = `Artículo ${optionNum}`;
      btn.addEventListener('click', () => {
        if (optionNum === currentQuestion.number) {
          feedbackDiv.textContent = '✅ ¡Correcto!';
          feedbackDiv.style.color = 'green';
          score++;
        } else {
          feedbackDiv.textContent = `❌ Incorrecto. Era el artículo ${currentQuestion.number}.`;
          feedbackDiv.style.color = 'red';
        }
        scoreDiv.textContent = `Puntuación: ${score}`;
        setTimeout(loadQuestion, 2000);
      });
      optionsDiv.appendChild(btn);
    });

    feedbackDiv.textContent = '';
  }

  loadQuestion();
})();
</script>

</body>
</html>
